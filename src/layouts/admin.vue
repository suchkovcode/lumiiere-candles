<template>
   <div class="admin">
      <header class="admin__header">
         <div class="container">
            <div class="admin__header-wrap">
               <div></div>
               <nuxt-link class="admin__header-logo" to="/" aria-label="Logo link">
                  <svg class="admin__header-icon">
                     <use xlink:href="/sprite.svg#logo"></use>
                  </svg>
               </nuxt-link>
               <button class="admin__header-btn" @click="logOut">
                  <svg width="24" height="24" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M11.6669 7.69231C10.9154 7.69231 10.1947 7.97596 9.66333 8.48087C9.13196 8.98577 8.83344 9.67057 8.83344 10.3846V34.6154C8.83344 35.3294 9.13196 36.0142 9.66333 36.5191C10.1947 37.024 10.9154 37.3077 11.6669 37.3077H23.0006C23.7521 37.3077 24.4728 37.024 25.0042 36.5191C25.5355 36.0142 25.8341 35.3294 25.8341 34.6154V27.8846C25.8341 27.5276 25.9833 27.1852 26.249 26.9327C26.5147 26.6803 26.875 26.5385 27.2508 26.5385C27.6265 26.5385 27.9869 26.6803 28.2526 26.9327C28.5182 27.1852 28.6675 27.5276 28.6675 27.8846V34.6154C28.6675 36.0435 28.0705 37.4131 27.0077 38.4229C25.945 39.4327 24.5036 40 23.0006 40H11.6669C10.1639 40 8.72253 39.4327 7.65979 38.4229C6.59704 37.4131 6 36.0435 6 34.6154V10.3846C6 8.95653 6.59704 7.58693 7.65979 6.57712C8.72253 5.56731 10.1639 5 11.6669 5H23.0006C24.5036 5 25.945 5.56731 27.0077 6.57712C28.0705 7.58693 28.6675 8.95653 28.6675 10.3846V17.1154C28.6675 17.4724 28.5182 17.8148 28.2526 18.0673C27.9869 18.3197 27.6265 18.4615 27.2508 18.4615C26.875 18.4615 26.5147 18.3197 26.249 18.0673C25.9833 17.8148 25.8341 17.4724 25.8341 17.1154V10.3846C25.8341 9.67057 25.5355 8.98577 25.0042 8.48087C24.4728 7.97596 23.7521 7.69231 23.0006 7.69231H11.6669ZM31.9165 16.1641C32.1821 15.912 32.5422 15.7704 32.9177 15.7704C33.2931 15.7704 33.6532 15.912 33.9188 16.1641L39.5857 21.5487C39.851 21.8011 40 22.1433 40 22.5C40 22.8567 39.851 23.1989 39.5857 23.4513L33.9188 28.8359C33.7891 28.9682 33.6327 29.0742 33.4589 29.1478C33.2851 29.2214 33.0975 29.261 32.9073 29.2641C32.7171 29.2673 32.5281 29.2341 32.3517 29.1664C32.1753 29.0987 32.0151 28.9979 31.8805 28.8701C31.746 28.7422 31.64 28.59 31.5687 28.4224C31.4975 28.2547 31.4625 28.0752 31.4658 27.8944C31.4692 27.7137 31.5108 27.5354 31.5882 27.3703C31.6657 27.2052 31.7773 27.0566 31.9165 26.9333L35.1655 23.8462H14.5003C14.1246 23.8462 13.7642 23.7043 13.4985 23.4519C13.2329 23.1994 13.0836 22.857 13.0836 22.5C13.0836 22.143 13.2329 21.8006 13.4985 21.5481C13.7642 21.2957 14.1246 21.1538 14.5003 21.1538H35.1655L31.9165 18.0667C31.6512 17.8143 31.5022 17.4721 31.5022 17.1154C31.5022 16.7587 31.6512 16.4165 31.9165 16.1641Z"
                        fill="currentColor"></path>
                  </svg>
                  Выйти
               </button>
            </div>
         </div>
      </header>
      <main id="admin">
         <slot />
      </main>
   </div>
</template>

<script setup>
const logOut = () => {
   const { logout } = useStrapiAuth();
   process.client ? localStorage.removeItem("username") : false;
   logout();
   this.$router.push("/auth/login");
};
</script>

<style lang="scss">
@import "@/assets/styles/admin";
</style>
